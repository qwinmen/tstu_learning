http://www.cyberforum.ru/c-beginners/thread1183434.html

Затравка (х, у) выдает затравочный пиксел
Pop - процедура, которая извлекает пиксел из стека
Push - процедура, которая помещает пиксел в стек

инициализируем стек
Push Затравка (х, у)
While (стек не пуст)
извлекаем пиксел из стека и присваиваем ему новое значение
Pop Пиксел(х, у)
Пиксел (х, у) = Нов_значение
сохраняем х-координату затравочного пиксела
Врем_х = х
заполняем интервал справа от затравки
х = х + 1
While Пиксел (х, у) < > Гран_значение
Пиксел (х, у) = Нов_значение
х = х + 1
End While
сохраняем крайний справа пиксел
Хправ = х - 1
восстанавливаем х-координату затравки
х = Врем_х
заполняем интервал слева от затравки
х = х - 1
While Пиксел (х, у) <> Гран_значение
Пиксел (х, у) = Нов_значение
х = х - 1
End While
сохраняем крайний слева пиксел
Хлев = х + 1
восстанавливаем х-координату затравки
х = Врем_х
проверим, что строка выше не является ни границей многоугольника, ни уже полностью заполненной; если это не так, то найти затравку, начиная с левого края подынтервала сканирующей строки
х = Хлев
у = у + 1
While х <= Хправ
ищем затравку на строке выше
Флаг = О
While (Пиксел (х, у) <> Гран_значение and
Пиксел (х, у) <> Нов_значение and х < Хправ)
If Флаг = 0 then Флаг = 1
х = х + 1
End While
помещаем в стек крайний справа пиксел
If Флаг = 1 then
If (x = Хправ and Пиксел (х, у) <> Гран_значение and
Пиксел (х, у) <> Нов_значение) then
Push Пиксел (х, у)
Else
Push Пиксел (х - 1, у)
End If
Флаг = О
End If
продолжим проверку, если интервал был прерван
Хвход = х
While ((Пиксел (х, у) = Гран_значение or
Пиксел (х, у) = Нов_значение) and х < Хправ)
х = х + 1
End While
удостоверимся, что координата пиксела увеличена
If х = Хвход then х = х + 1
End While
проверим, что строка ниже не является ни границей многоугольника, ни уже полностью заполненной.
эта часть алгоритма совершенно аналогична проверке для строки выше, за исключением того, что вместо у = у + 1 надо подставить
у = у - 1
End While
Finish

Здесь функция Pop извлекает координаты (x, у) пиксела из стека, а функция Push помещает их обратно в стек

По сравнению с простым алгоритмом заполнения с затравкой глубина стека заметно уменьшается. 