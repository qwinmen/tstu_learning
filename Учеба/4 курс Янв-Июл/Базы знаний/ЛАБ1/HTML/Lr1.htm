<HTML>
<HEAD>
<TITLE>Лабораторная работа № 1</TITLE>
</HEAD>

<B><FONT FACE="Times New Roman"><P>Лабораторная работа № 1</P>
<P ALIGN="CENTER">РАЗРАБОТКА ЭКСПЕРТНОЙ СИСТЕМЫ, РЕАЛИЗУЮЩЕЙ ПРЯМУЮ ЦЕПОЧКУ РАССУЖДЕНИЙ</P>
<P ALIGN="CENTER">Цель: Практическое ознакомление с прямым алгоритмом вывода</B></FONT>.</P>
<B><FONT FACE="Times New Roman"><P>Задания: </P>
<P>1. Реализовать алгоритм и базу знаний на ЭВМ</P>
<P>2. Проверить работу экспертной системы на конкретном примере. </P>
<P>Методика выполнения работы </P>
</B><P>Прямой алгоритм, в ходе рассуждения движется от исходных данных, через систему правил к результату. При этом из исходных данных поочередно выбираются все факты, последовательно сравниваются с частью '"ЕСЛИ" всех: правил базы знаний. Прямая цепочка рассуждений позволяет пользователю экспертной системы получить всю информацию, сходящую из входных данных. </P>
<P>Базу знаний экспертной системы можно условно разбить на две части: Базу правил и Базу данных. База правил включает в себя статические знания о предметной области и формируется на основе экспертной информации. Процесс построения базы правил является наиболее трудоемким и трудно формализуемым этапом разработки экспертной системы. База данных – знания в виде фактов, которые, в свою очередь, подразделяются на постоянные и временные факты Временные факты описывают определенную ситуацию, в. процессе работы экспертной системы и зависят от входных данных. Постоянные факты определяют логические зависимости - между объектами, предметной области и не меняются в ходе эксплуатации экспертной системы.</P>
<P>Работу алгоритма рассмотрим на основе знаний, представленных в виде фактов и правил, являющихся фрагментом базы знаний системы проектирования оборудования автоматизированной линии гальванопокрытий.</P>
<P>База знаний содержит 3 факта:</P>
<P>1. Кислота •= агрессивная жидкость.</P>
<P>2. Азотная кислота = кислота.</P>
<P>3. Сернистая кислота = кислота </P>
<B><P>и 9 правил:</P>
</B><P>1 Если среда = кислота" И концентрация &gt; 70% То среда "концентрированная кислота.</P>
<P>2. Если среда </FONT><I>=•</I><FONT FACE="Times New Roman"> кислота И концентрация &lt; 70% То среда = разбавленная кислота.</P>
<P>3. Если среда = концентрированная кислота То материал ванны = хромоникелевая сталь.</P>
<P>4. Если среда = разбавленная кислота</P>
<P>То материал ванны <SUP>=в</SUP> углеродистая сталь.</P>
<P>5. Если среда = агрессивная жидкость То футеровка </FONT><I>=</I><FONT FACE="Times New Roman"> есть.</P>
<P>6. Если футеровка = есть И среда = сернистая кислота То материал футеровки - свинец.</P>
<P>7. Если футеровка •= есть И среда == азотная кислота То материал футеровки = винипласт.</P>
<P>8. Если температура = меньше 100°С</P>
<P>То тип обогрева = пароводяная рубашка.</P>
<P>9. Если температура = больше 100°С</P>
<P>То тип обогрева == электронагреватель.</P>
<P>После формирования базы знаний определяются вспомогательные структуры данных, необходимые для работы алгоритма рассуждений. Для удобства работы представим эти структуры в виде таблиц:</P>
<P><A NAME="таб1"></FONT><A HREF="Tab/Tab1.htm"><B><FONT FACE="Times New Roman">1. Список переменных условия (табл. 1).</B></FONT></A></P>
<FONT FACE="Times New Roman"><P></A>В эту таблицу заносятся имена переменных, присутствующих в условной части правил.</P>
<P>Способ организации: для каждого правила базы знаний в списке резервируется N позиций, где N = </FONT>m<FONT FACE="Times New Roman">ах [N }, i = 1...k;</P>
<P>N - количество переменных в условной части 1-го правила;</P>
<P>k - количество правил.</P>
</FONT><P><A NAME="таб2"><A HREF="Tab/Tab2.htm"><B><FONT FACE="Times New Roman">2. Список переменных условия расширенный (табл. 2).</B></FONT></A><B> </A></P>
</B><FONT FACE="Times New Roman"><P>В графу "Имя" заносятся имена переменных условия, причем каждая переменная заносится только один раз. Графа "Признак инициализации" заполняется до начала работы экспертной системы значением "не определена". Графа "Значение" в начале работы пуста.</P>
</FONT><P>&nbsp;<A NAME="таб3"><A HREF="Tab/Tab3.htm"><B><FONT FACE="Times New Roman">3. Указатель переменных условия (табл. 3).</B></FONT></A></A></P>
<FONT FACE="Times New Roman"><P>Указатель предназначен для отслеживания текущего события в цепочке рассуждений и состоит из </FONT><I>2</I><FONT FACE="Times New Roman"> частей:</P>
<P>а) номера правила, с которым и настоящий момент работает система;</P>
<P>б) номера условия соответствующего правила: данная графа необходима в связи с тем, что правило, в общем случае, может содержать более одного условия.</P>
</FONT><P><A NAME="таб4"><A HREF="Tab/Tab4.htm"><B><FONT FACE="Times New Roman">4. Очередь переменных логического вывода (табл. 4). </B></FONT></A></P>
<FONT FACE="Times New Roman"><P></A>Представляет собой список переменных условия и определяет последовательность их сопоставления с условными частями правил.</P>
<P>Определив систему фактов и правил и сформировав все необходимые вспомогательные</FONT><FONT SIZE=1> </FONT><FONT FACE="Times New Roman">таблицы, получим состав базы знаний, обеспечивающий работу алгоритма прямой цепочки рассуждений. Теперь система готова принять от пользователя входные данные. Полученная информация интерпретируется системой и заносится в соответствующие таблицы.</P>
<P>Пусть пользователю требуется получить консультацию о конструктивных особенностях проектируемой ванны при условии, что в ней будет находиться сернистая кислота с концентрацией до 75% при температуре от 80 до 90°С.</P>
<P>Входная информация представляется следующим образом:</P>
<P>Среда = сернистая кислота </P>
<P>Концентрация == более 70% </P>
<P>Температура = меньше 100°С</P>
<P>На основе списка переменных условия и системы правил можно определить допустимые значения каждой переменной условия. которые используются при интерпретации исходной информации во внутреннее представление системы. Эта информация заносится в очередь переменных логического вывода <A NAME="таб5"></FONT><A HREF="Tab/Tab5.htm"><FONT FACE="Times New Roman">(табл. 5)</FONT></A></A><FONT FACE="Times New Roman"> и в расширенный список переменных условия <A NAME="таб6"></FONT><A HREF="Tab/Tab6.htm"><FONT FACE="Times New Roman">(табл. 6).</FONT></A></A></P>
<FONT FACE="Times New Roman"><P>Далее выбирается переменная, стоящая в очереди первой ("Среда") и отыскивается правило, содержащее в условной части эту переменную. Поиск осуществляется по списку переменных условия.</P>
<P>Первым правилом, содержащим переменную "Среда", является правило 1 При этом указатель переменных условия устанавливается как первое условие первого правила.</P>
<P>Таблица 7</FONT> <FONT FACE="Times New Roman">Указатель переменных условия при анализе первого правила.</P></FONT>
<P ALIGN="CENTER"><CENTER><TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=180>
<TR><TD WIDTH="51%" VALIGN="TOP" HEIGHT=24>
<P ALIGN="CENTER">1</TD>
<TD WIDTH="49%" VALIGN="TOP" HEIGHT=24>
<P ALIGN="CENTER">1</TD>
</TR>
</TABLE>
</CENTER></P>
<FONT FACE="Times New Roman"><P>Из списка переменных условия следует такие, что для правила 1 в условной части содержится две переменных ("Среда" и "Концентрация"). Обратившись к расширенному списку переменных условия, определяем, что обе эти переменные проинициализированы. При этом имеется логическое несоответствие в значениях переменной "Среда" в расширенном списке и в условной части правила. Такое несоответствие возможно по двум причинам:</P>
<P>1. По причине смыслового различия (сернистая кислота -азотная кислота, концентрированная кислота - разбавленная кислота) .</P>
<P>2. По причине того, что одно из значений является более общим и включает в себя другое (агрессивная жидкость =” концентрированная кислота •—” кислота ==&gt; азотная кислота).</P>
<P>Выявление причин несоответствия значений выполняется на основе анализа группы фактов базы знаний. 3 рассматриваемом примере в базе знаний имеется факт.</P>
<P>Сернистая кислота = кислота откуда следует, что понятие "сернистая кислота" является частным случаем понятия "кислота". В результате этого первое условие первого правила является выполненным. Указатель переменных условия устанавливается на второе условие первого правила. Значения переменной "Концентрация" в расширенном списке переменных условия и в условной части правила совпадают, следовательно, все правило считается выполненным. Согласно части "То" этого правила, переменной "Среда" присваивается значение "концентрированная кислота". Изменение значения переменной отражается в расширенном списке переменных условия.</P>
<P>Таблица 8 Изменения в расширенном списке.</P></FONT>
<TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=453>
<TR><TD WIDTH="21%" VALIGN="TOP" HEIGHT=21>
<P><FONT FACE="Times New Roman">Среда</FONT></TD>
<TD WIDTH="29%" VALIGN="TOP" HEIGHT=21>
<FONT FACE="Times New Roman"><P>определена</FONT></TD>
<TD WIDTH="50%" VALIGN="TOP" HEIGHT=21>
<FONT FACE="Times New Roman"><P>концентрированная кислота</FONT></TD>
</TR>
</TABLE>

<FONT FACE="Times New Roman"><P>В части "То" правила содержится переменная условия. Она должна быть помещена в очередь переменных логического вывода. 3 данном случае этого не происходит, т.к. переменная "Среда" уже есть в очереди. Кроме того, в базу знаний добавляется новый факт:</P>
<P>Сернистая кислота = концентрированная кислота. Этот факт является временным. Он необходим только для работы: при конкретных исходных данных и удаляется из базы знаний</P>
<P>при завершении работы системы. Временные факты формируют логическую цепочку, на основе которой система в дальнейшем выясняет причины возникшего несоответствия значений переменных.</P>
<P>Далее система проверяет, имеется ли еще какое-либо правило, в условной части которого содержится переменная "Среда". Если такого правила не существует, то переменная удаляется из очереди. В противном случае, указатель устанавливается на первое условие найденного правила (в данном случае правило 2 У. Анализ найденного правила выполняется системой аналогично схеме, рассмотренной выше. Такой анализ показывает, что правило 2 не выполняется. Рассмотрим теперь правило 3. Око считается выполненным. Согласно части "То" этого правила переменной "Материал ванны" присваивается значение "хромоникелевая сталь" Эта переменная не содержится в списке переменных условия, следовательно она является выводом.</P>
<P>Переменные вывода помещаются в список переменных вывода. который при завершении работы система определяет результат ее работы.</P>
<P>После анализа правила 3 состояние структур данных в базе знаний следующее:</P>
<P>- очередь не изменилась;</P>
<P>- расширенный список переменных условия не изменился;</P>
<P>- список переменных вывода содержит одну строку,</P>
<P>- число фактов в базе знаний - 4.</P>
<P>- указатель переменных условия (табл. 9).</P>
<P ALIGN="CENTER">Таблица 9 Указатель переменных условия (правило 3)</P></FONT>
<P ALIGN="CENTER"><CENTER><TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=132>
<TR><TD WIDTH="53%" VALIGN="TOP" HEIGHT=20>
<P ALIGN="CENTER">3</TD>
<TD WIDTH="47%" VALIGN="TOP" HEIGHT=20>
<P ALIGN="CENTER">1</TD>
</TR>
</TABLE>
</CENTER></P>
<FONT FACE="Times New Roman"><P>Дальнейший анализ показывает, что правило 4 не выполняется из-за несоответствия значения переменной "Среда" ("Разбавленная кислота" - "Концентрированная кислота"). Выполняем рассмотрение следующего правила, содержащего переменную условия "Среда" (правило 5). Это правило выполняется. .В структуре данных возникли изменения:</P>
<P>- в очередь переменных логического вывода добавляется "Футеровка";</P>
<P>- изменяется значение переменной в расширенном списке переменных условия (табл. 10);</P>
<P>- указатель переменных условия (табл. 11).</P>
<P>Таблица 10. Изменения в расширенном списке</P></FONT>
<P ALIGN="CENTER"><CENTER><TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=437>
<TR><TD WIDTH="33%" VALIGN="TOP" HEIGHT=21>
<P><FONT FACE="Times New Roman">Футеровка</FONT></TD>
<TD WIDTH="33%" VALIGN="TOP" HEIGHT=21>
<FONT FACE="Times New Roman"><P>Определена</FONT></TD>
<TD WIDTH="34%" VALIGN="TOP" HEIGHT=21>
<FONT FACE="Times New Roman"><P>Есть</FONT></TD>
</TR>
</TABLE>
</CENTER></P>

<FONT FACE="Times New Roman"><P ALIGN="CENTER">- в список переменных вывода добавляется переменная "Материал Футеровки" со значением "свинец";</P>
<P>- очередь не изменилась;</P>
<P>- списки переменных условия не изменились;</P>
<P>- указатель переменных условия (табл. 12).</P>
<P ALIGN="CENTER">Таблица 12. Указатель переменных условия (правило 6)</P></FONT>
<P ALIGN="CENTER"><CENTER><TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=113>
<TR><TD WIDTH="56%" VALIGN="TOP" HEIGHT=20>
<P>6</TD>
<TD WIDTH="44%" VALIGN="TOP" HEIGHT=20>
<P>2</TD>
</TR>
</TABLE>
</CENTER></P>

<FONT FACE="Times New Roman"><P ALIGN="CENTER">&nbsp;Правило 7 не выполняется.</P>
<P>После этого система не находит больше правила, содержащего переменную "Среда". Эта переменная исключается из очереди. Первой в очереди становится переменная "Концентрация". Для нее должны быть выполнены все предыдущие шаги. В нашем примере правила, содержащие в условной части переменную "Концентрация", уже были проверены (правила 1 и 2), действия, предусмотренные частью "То" были выполнены, поэтому переменная условия "Концентрация" исключается из очереди.</P>
<P>Теперь первая в очереди переменная "Температура". Анализ правил, содержащих переменную "Температура" приводит к следующему состоянию структур данных.</P>
<P>- очередь пустая (после рассмотрения переменной "Температура" в очереди остается переменная условия "Футеровка" , которая исключается аналогично переменной "Концентрация");</P>
<P>- списки переменных условия не изменились;</P>
<P>- указатель (табл. 13);</P>
<P>- к списку переменных вывода добавили "Тип обогрева", равную "пароводяная рубашка".</P>
<P ALIGN="CENTER">Таблица 13 Указатель переменных условия (правило 9)</P></FONT>
<P ALIGN="CENTER"><CENTER><TABLE BORDER CELLSPACING=1 CELLPADDING=7 WIDTH=132>
<TR><TD WIDTH="50%" VALIGN="TOP" HEIGHT=18>
<P ALIGN="CENTER">9</TD>
<TD WIDTH="50%" VALIGN="TOP" HEIGHT=18>
<P ALIGN="CENTER">1</TD>
</TR>
</TABLE>
</CENTER></P>
<FONT FACE="Times New Roman"><P ALIGN="JUSTIFY">Так как очередь пуста, процесс рассуждения заканчивается. Результатом работы алгоритма являются следующие решения:</P>
<P>материал ванны - хромоникелевая сталь,</P>
<P>ванна имеет защитную футеровку,</P>
<P>материал футеровки - свинец,</P>
<P>тип обогрева - пароводяная рубашка.</P>
<P>В простейшем случае результатом работы является список логических выводов, содержащий переменные вывода и их значения. Однако существует ряд случаев, когда в качестве выходной информации используются и переменные условия Это позволяет обеспечить более логичное и наглядное представление исходных данных системы в виде, удобном пользователю Так в рассмотренном выше примере переменная вывода "Материал Футеровки" входит в список выводов только при определенных значениях переменкой условия "Футеровка". Поэтому переменная условия "Футеровка" также может быть рассмотрена как результат работы системы.</P>
<P>Предложенный алгоритм</FONT><B> </B><FONT FACE="Times New Roman">не является самым универсальным и допускает ряд модификаций. В частности, допускается различное толкование недостатка входных данных. В ходе работы алгоритма может возникнуть ситуация, когда при обращении к некоторому правилу выяснится, что переменная условия в нем не была определена .</P>
<P>В данной ситуации система может либо запросить недостающие данные у пользователя, либо выдать сообщение о недостающей информации и прекратить рассмотрение данного правила. Каждый из этих подходов имеет свои преимущества и недостатки. В первом случае достигается более полный список выводов, но пользователю приходится вводить большее количество информации. В противном случае, недостаток входной информации может сделать невозможным получение достаточно важных выводов, поэтому возникает задача выявления минимально необходимого комплекта входной информации.</P>
<P>Существенного ускорения работы системы можно достичь за счет исключения из дальнейшего рассмотрения уже проверенных правил. Для тех правил, часть "То" которых была выполнена, устанавливается признак "Выполнено" и они, в дальнейшем, не обрабатываются системой. При этом следует помнить, что правило может не выполняться</FONT> <FONT FACE="Times New Roman">из-за недостатка входной информации. По</FONT> <FONT FACE="Times New Roman">ходу работы алгоритма может быть найдена дополнительная информация, что позволит обработать эти правила.</P>
<B><P>Порядок выполнения работы</P>
</B><P>1. Провести анализ правил базы знаний и логической структуры алгоритма.</P>
<P>2. Подготовить программу экспертной системы и файлы базы знании</P>
<P>3. Протестировать работу экспертной системы на контрольном примере <A NAME="таб14"></FONT><A HREF="Tab/Tab14.htm"><B><FONT FACE="Times New Roman">из табл. 14.</B></FONT></A></A></P>
<B><FONT FACE="Times New Roman"><P>Содержание отчета</P>
</B><P>1. Текст программы, реализующей алгоритм прямой цепочки суждений.</P>
<P>2. Описание программы.</P>
<P>3. Описание алгоритма.</P>
<P>4. Текст файлов базы знаний.</P>
<P>5. Результаты работы алгоритма.</P></FONT></BODY>
</HTML>
