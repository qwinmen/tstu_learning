1. пользователь сам рисует 4 прямоугольничка. важно что бы пользователь понимал что он нарисовал первым, а что третьим. тоесть они должны при рисовании пронумеривываться, или как вариант выделяться цветом каком-то определенным. а в хелпе написать что какой значит

2. пользователь рисует запретные области. она крестиком помечена. их может быть сколько угодно.

3. пользователь решает, что с чем он будет соединять, например 1 с 3, а 3 с 4
или может быть все друг с другом

дальше программа начинает соединять
методом ветвей и границ она соединяет прямоугольнички. и ищет как лучше всего соединять

еще, должна быть возможность задавания минимального расстояния между двумя линиями, и например линией и объектом

на счет кратчайшего пути. я так понимаю что при худшем исходе. ты соединяется все со всеми, тоесть 1 с 2, 1 с 3, 1 с 4. 2 с 3, 2 с 4. 3 с 4. тоесть 6 блоков. и количество возможных порядков соединения 6 факториал раз. при идеальной реализации их надо все просмотреть